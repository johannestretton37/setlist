webpackJsonp([1],{"9Nxu":function(t,e){},AqYa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRGRjMxMkU1RTQyRDExRTc5REMzRjFEMUM4QUM1QzhFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRGRjMxMkU2RTQyRDExRTc5REMzRjFEMUM4QUM1QzhFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REZGMzEyRTNFNDJEMTFFNzlEQzNGMUQxQzhBQzVDOEUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REZGMzEyRTRFNDJEMTFFNzlEQzNGMUQxQzhBQzVDOEUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6GXrU1AAAAEElEQVR42mL4//8/A0CAAQAI/AL+26JNFgAAAABJRU5ErkJggg=="},MfAe:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),i=n("Dd8w"),r=n.n(i),o={name:"Song",props:["song","order"],methods:{updateItemPositions:function(){for(var t=document.getElementsByClassName("song-item-container"),e={},n=0;n<t.length;n++){var s=t[n],i=s.id,r=s.dataset.order;if(i){var o=s.getBoundingClientRect();e[s.id]={order:r,top:o.top,bottom:o.bottom,height:o.height}}}this.$store.commit("itemPositions",e)},handleDragStart:function(t){t.type.indexOf("touch")>-1&&t.preventDefault(),this.$store.commit("draggedItem",this.song);var e=document.getElementById("dragImg");e.style.display="block",e.style.top=window.pageYOffset+"px",t.dataTransfer.setDragImage(e,0,0),t.dataTransfer.dropEffect="move";var n=document.getElementById("draggedItemPlaceholder");if(n){var s=t.clientY-.5*n.getBoundingClientRect().height+window.pageYOffset;n.style.transform="translateY("+s+"px)"}this.updateItemPositions()},handleDrag:function(t){t.type.indexOf("touch")>-1&&t.preventDefault();var e=document.getElementById("draggedItemPlaceholder"),n=t.clientY-.5*e.getBoundingClientRect().height+window.pageYOffset;e.style.transform="translateY("+n+"px)";for(var s in this.itemPositions){var i=this.itemPositions[s];if(t.clientY>i.top&&t.clientY<i.bottom){var r=t.clientY<i.top+.5*i.height;this.$store.commit("draggingOverItemId",{id:s,targetSlot:r?parseInt(i.order,10)-1:parseInt(i.order,10),slotPre:r,slotPost:!r});break}}},handleDragEnd:function(t){t.type.indexOf("touch")>-1&&t.preventDefault(),this.$store.commit("draggedItemEnd"),setTimeout(function(){var t=document.getElementsByClassName("wasMoved")[0];t&&t.classList.remove("wasMoved")},400)}},computed:{slotClasses:function(){return{blankSpot:null!=this.draggedItem&&this.song.id===this.draggedItem.id,draggingOver:this.draggingOverThis,targetSlotPre:this.targetSlot===this.order-1,targetSlotPost:this.targetSlot===this.order,draggable:void 0!==this.order,wasMoved:this.wasMoved===this.song.id}},duration:function(){var t=Math.floor(this.song.duration/60),e=this.song.duration%60;return e<10&&(e="0"+e),t+":"+e},draggedItem:function(){return this.$store.state.draggedItem},draggingOverThis:function(){return this.draggingOverItemId===this.song.id},draggingOverItemId:function(){return this.$store.state.draggingOverItemId},targetSlot:function(){return this.$store.state.targetSlot},wasMoved:function(){return this.$store.state.wasMoved},itemPositions:function(){return this.$store.state.itemPositions}}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"song-item-container",class:t.slotClasses,attrs:{id:t.song.id,"data-order":t.order,draggable:void 0!==t.order},on:{dragstart:t.handleDragStart,drag:t.handleDrag,dragend:t.handleDragEnd,touchstart:t.handleDragStart,touchmove:t.handleDrag,touchend:t.handleDragEnd,touchcancel:t.handleDragEnd}},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.order,expression:"order == 1"}],staticClass:"slot preSlot"}),t._v(" "),n("span",{staticClass:"songInfo order"},[t._v("\n    "+t._s(t.order)+"\n  ")]),t._v(" "),n("span",{staticClass:"songInfo artist left"},[t._v("\n    "+t._s(t.song.artist)+"\n  ")]),t._v(" "),n("span",{staticClass:"songInfo title"},[t._v("\n    "+t._s(t.song.title)+"\n  ")]),t._v(" "),n("span",{staticClass:"songInfo duration"},[t._v("\n    "+t._s(t.duration)+"\n  ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.order,expression:"order !== undefined"}],staticClass:"slot postSlot"})])},staticRenderFns:[]},d=n("VU/8")(o,a,!1,function(t){n("p9cS")},"data-v-0cc8deba",null).exports,g=n("Zrlr"),l=n.n(g),c=n("i81k"),u=n.n(c),m=function t(e,n,s,i){l()(this,t),this.id=u()(),this.title=e,this.artist=n,this.duration=s,this.isEncore=i||!1},h={name:"SongsTotal",props:["songs"],components:{Song:d},computed:{total:function(){var t=0,e=0;return this.songs.forEach(function(n){t++,e+=n.duration}),{title:t+" songs in total",duration:e}}}},v={render:function(){var t=this.$createElement;return(this._self._c||t)("Song",{attrs:{song:this.total}})},staticRenderFns:[]},p={name:"Songs",components:{Song:d,SongsTotal:n("VU/8")(h,v,!1,null,null,null).exports},props:["songs"],computed:{draggedItemPlaceholder:function(){var t=new m(this.$store.state.draggedItem.title,this.$store.state.draggedItem.artist,this.$store.state.draggedItem.duration);return t},isDragging:function(){return this.$store.state.isDragging}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"songs"},[this.isDragging?e("div",{attrs:{id:"draggedItemPlaceholder"}},[e("Song",{attrs:{song:this.draggedItemPlaceholder}})],1):this._e(),this._v(" "),e("transition-group",{staticClass:"song-items-container",attrs:{tag:"ul",name:"rearrange"}},[this._l(this.songs,function(t,n){return e("Song",{key:t.id,attrs:{order:n+1,song:t}})}),this._v(" "),e("hr",{key:"divider"}),this._v(" "),this.songs.length>0?e("SongsTotal",{key:"total",attrs:{songs:this.songs}}):this._e()],2)],1)},staticRenderFns:[]},I=n("VU/8")(p,f,!1,function(t){n("MfAe")},"data-v-120147ce",null).exports,S=n("NYxO"),w={name:"SetList",components:{Songs:I},computed:r()({},Object(S.b)(["setList"])),data:function(){return{newSongTitle:"",newSongArtist:"",newSongDuration:""}},methods:{addSong:function(){var t=new m(this.newSongTitle,this.newSongArtist,this.toSeconds(this.newSongDuration));this.$store.commit("addSong",t)},toSeconds:function(t){if(""===t)return 0;var e=t.split(/[:,.]/gi);if(e.length<=1)return parseInt(t,10);return 60*parseInt(e[0].trim(),10)+parseInt(e[1].trim(),10)},notEmpty:function(t){return{empty:""===t}}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.setList?n("h1",[t._v(t._s(t.setList.name))]):t._e(),t._v(" "),n("div",{staticClass:"new-song-form"},[n("form",{on:{submit:function(e){e.preventDefault(),t.addSong(e)}}},[n("h2",{staticStyle:{"grid-area":"header"}},[t._v("Add new song")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSongArtist,expression:"newSongArtist"}],staticClass:"center",staticStyle:{"grid-area":"artist"},attrs:{placeholder:"Artist (optional)"},domProps:{value:t.newSongArtist},on:{input:function(e){e.target.composing||(t.newSongArtist=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSongTitle,expression:"newSongTitle"}],staticClass:"center",staticStyle:{"grid-area":"title"},attrs:{placeholder:"Song Title"},domProps:{value:t.newSongTitle},on:{input:function(e){e.target.composing||(t.newSongTitle=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newSongDuration,expression:"newSongDuration"}],staticClass:"center duration",staticStyle:{"grid-area":"duration"},attrs:{placeholder:"0:00"},domProps:{value:t.newSongDuration},on:{input:function(e){e.target.composing||(t.newSongDuration=e.target.value)}}}),t._v(" "),n("button",{staticStyle:{"grid-area":"submit"}},[t._v("Add song to list")])])]),t._v(" "),n("Songs",{attrs:{songs:t.setList.songs}})],1)},staticRenderFns:[]},E=n("VU/8")(w,A,!1,function(t){n("9Nxu")},null,null).exports,R=n("AqYa"),b=n.n(R),D={name:"app",data:function(){return{pixel:b.a}},components:{SetList:E,Songs:I}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("SetList"),this._v(" "),e("img",{attrs:{id:"dragImg",src:this.pixel}})],1)},staticRenderFns:[]},N=n("VU/8")(D,M,!1,function(t){n("w6PR")},null,null).exports,_=function t(e){l()(this,t),this.songs=[],this.name=e||"Untitled SetList"};s.a.use(S.a);var y=new _("Setlist 1");y.songs=[new m("Song nr 1","Artist",193),new m("Song 2","Blur",142),new m("Song nr 3","Artdsdft",344),new m("Song 4","sdfdf",31),new m("Song nr 5","Artistdfsf",993),new m("Song 6","gwrf",747)];var x=[y],L=new S.a.Store({state:{setLists:x,setListIndex:0,draggedItem:null,draggingOverItemId:"",itemPositions:{},targetSlot:-1,wasMoved:"",isDragging:!1},getters:{setList:function(t){return t.setLists[t.setListIndex]||null}},mutations:{addSong:function(t,e){t.setLists[t.setListIndex].songs.push(e)},draggedItem:function(t,e){t.draggedItem=e,t.isDragging=!0,t.wasMoved=""},draggedItemEnd:function(t){if(t.draggedItem.id!==t.draggingOverItemId){var e=O(t.setLists[t.setListIndex],t.draggedItem.id);t.setLists[t.setListIndex].songs.splice(e,1);var n=e>t.targetSlot?0:-1;t.setLists[t.setListIndex].songs.splice(t.targetSlot+n,0,t.draggedItem),t.wasMoved=t.draggedItem.id}t.draggedItem=null,t.isDragging=!1,t.draggingOverItemId="",t.targetSlot=-1},draggingOverItemId:function(t,e){t.draggingOverItemId=e.id,t.targetSlot=e.targetSlot},itemPositions:function(t,e){t.itemPositions=e}}}),O=function(t,e){return t.songs.findIndex(function(t){return t.id===e})},Y=L;s.a.config.productionTip=!1,new s.a({el:"#app",store:Y,template:"<App/>",components:{App:N}})},p9cS:function(t,e){},w6PR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5e8bdd2f7dca64cb0057.js.map